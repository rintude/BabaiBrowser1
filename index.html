<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Babai Mini Browser</title>

<style>
*{box-sizing:border-box;}
body{
    margin:0;
    background:#0a0a0a;
    color:#fff;
    font-family:system-ui, Arial;
}

/* Top Bar */
#topbar{
    display:flex;
    gap:8px;
    padding:8px;
    background:#202124;
    align-items:center;
}

#topbar button{
    background:#333;
    border:none;
    color:white;
    padding:6px 10px;
    border-radius:6px;
    font-size:16px;
}

#address{
    flex:1;
    padding:8px 12px;
    border-radius:20px;
    border:none;
    outline:none;
}

/* Home */
#home{
    padding:15px;
}

.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
    gap:12px;
}

.site{
    background:#151515;
    padding:12px 6px;
    border-radius:10px;
    text-align:center;
    font-size:13px;
    cursor:pointer;
}

/* Browser */
#browser{
    display:none;
    height:calc(100vh - 50px);
}

iframe{
    width:100%;
    height:100%;
    border:none;
    background:white;
}
</style>
</head>

<body>

<!-- TOP BAR -->
<div id="topbar">
    <button onclick="goBack()">‚¨Ö</button>
    <button onclick="goForward()">‚û°</button>
    <button onclick="goHome()">üè†</button>
    <input id="address" placeholder="Search or enter URL">
</div>

<!-- HOME -->
<div id="home">
    <div class="grid">
        <div class="site" onclick="openSite('https://www.google.com')">Google</div>
        <div class="site" onclick="openSite('https://www.youtube.com')">YouTube</div>
        <div class="site" onclick="openSite('https://chat.openai.com')">ChatGPT</div>
        <div class="site" onclick="openSite('https://web.whatsapp.com')">WhatsApp</div>
        <div class="site" onclick="openSite('https://www.facebook.com')">Facebook</div>
        <div class="site" onclick="openSite('https://www.amazon.in')">Amazon</div>
    </div>
</div>

<!-- BROWSER -->
<div id="browser">
    <iframe id="frame"></iframe>
</div>

<script>
let historyList = JSON.parse(localStorage.getItem("babai_browser_history")) || [];
let index = historyList.length - 1;

/* Open Website */
function openSite(url){
    showBrowser();

    historyList = historyList.slice(0, index + 1);
    historyList.push(url);
    index++;

    saveHistory();
    load(url);
}

/* Load */
function load(url){
    document.getElementById("frame").src = url;
    document.getElementById("address").value = url;
}

/* Navigation */
function goBack(){
    if(index > 0){
        index--;
        load(historyList[index]);
    }
}

function goForward(){
    if(index < historyList.length - 1){
        index++;
        load(historyList[index]);
    }
}

function goHome(){
    document.getElementById("browser").style.display="none";
    document.getElementById("home").style.display="block";
}

/* UI */
function showBrowser(){
    document.getElementById("home").style.display="none";
    document.getElementById("browser").style.display="block";
}

/* Address Bar */
document.getElementById("address").addEventListener("keydown", e=>{
    if(e.key === "Enter"){
        let v = e.target.value.trim();
        if(!v) return;

        let url = (v.includes(".") && !v.includes(" "))
            ? (v.startsWith("http") ? v : "https://" + v)
            : "https://www.google.com/search?q=" + encodeURIComponent(v);

        openSite(url);
    }
});

/* Storage */
function saveHistory(){
    localStorage.setItem("babai_browser_history", JSON.stringify(historyList));
}

/* Restore Last Page */
window.onload = ()=>{
    if(historyList.length){
        showBrowser();
        load(historyList[index]);
    }
};
</script>

</body>
</html>
